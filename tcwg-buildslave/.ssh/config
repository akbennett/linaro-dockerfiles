# === BEGIN: TCWG SSH configuration ===
#
# !!! THIS MUST BE COPIED TO THE START OF YOUR ~/.SSH/CONFIG FILE. !!!
# !!! IF YOU REPORT A PROBLEM WITH SSH, AND THIS CONFIGURATION IS NOT !!!
# !!! AT THE START OF YOUR FILE -- YOU HAVE OBVIOUSLY MISSED THIS VERY !!!
# !!! IMPORTANT NOTE. AS PENANCE, YOU WILL READ THIS NOTE OUT LOUD. !!!
#

Host *.tcwglab *.tl *.aus-colo *.aus tcwg-* gateway.tcwglab.linaro.org people.linaro.org linaro-private.git.linaro.org aus-colo.linaro.org
 #User @LDAP_USER@
 #IdentityFile ~/.ssh/id_rsa

Host lab.validation.linaro.org
 #User @LP_USER@
 #IdentityFile ~/.ssh/id_rsa

# Access to Austin Colo.  E.g., "ssh r1-a7.aus"
Host *.aus-colo *.aus
 ProxyCommand ~/.ssh/ssh-smart-nc aus-colo.linaro.org 10.10.0.1 28:80:23:90:1f:f0 -q0 $(echo %h | sed -e s/.aus$/.aus-colo/) %p

# Access to LAVA Lab.  E.g., "ssh root@10.7.0.18.lab"
Host *.lab
 ProxyCommand ~/.ssh/ssh-smart-nc lab.validation.linaro.org 10.0.0.1 2c:59:e5:9a:43:8c -q0 $(basename %h .lab) %p

Host *.tcwglab *.tl *.aus-colo *.aus *.lab tcwg-*
 # With uneasy heart, enable automatic multiplexing.  See commit log.
 # Soften up potential problems with killing master connection by using
 # ControlPersist (which puts the master connection in background).
 ControlMaster auto
 ControlPersist 5m
 ControlPath /tmp/ssh-%u-%r@%h:%p
 # There is little point in forwarding X11 to machines outside of local network.
 ForwardX11 no
 # Forward authentication agent and keep private keys in one place.
 ForwardAgent yes
 # Ping server every minute to avoid routers dropping connection.
 ServerAliveInterval 60

Host *.tcwglab *.tl *.aus-colo *.aus *.lab ex40-*.tcwglab.linaro.org
 # Disable checking of host keys for boards behind gateways.
 StrictHostKeyChecking no
 UserKnownHostsFile /dev/null
 LogLevel QUIET

### Short names ###

Host tcwg-ex40-01
 HostName ex40-01.tcwglab.linaro.org
Host tcwg-ex40-02
 HostName ex40-02.tcwglab.linaro.org
Host tcwg-ex40-03
 HostName ex40-03.tcwglab.linaro.org
Host tcwg-ex40-04
 HostName ex40-04.tcwglab.linaro.org
Host tcwg-ex40-05
 HostName ex40-05.tcwglab.linaro.org
Host tcwg-ex40-06
 HostName ex40-06.tcwglab.linaro.org
Host tcwg-ex40-07
 HostName ex40-07.tcwglab.linaro.org
Host tcwg-ex40-08
 HostName ex40-08.tcwglab.linaro.org
Host tcwg-ex40-09
 HostName ex40-09.tcwglab.linaro.org

Host git.linaro.org dev-private-git.linaro.org
 User git
# === END: TCWG SSH configuration ===

